!function(a){var e=6e4,t=function(a){return a.toISOString().replace(/-|:|\.\d+/g,"")},o=function(a){return a.end?t(a.end):t(new Date(a.start.getTime()+a.duration*e))},n={google:function(a){var e=t(a.start),n=o(a);return'<a class="icon-google" target="_blank" href="'+encodeURI(["https://www.google.com/calendar/render","?action=TEMPLATE","&text="+(a.title||""),"&dates="+(e||""),"/"+(n||""),"&details="+(a.description||""),"&location="+(a.address||""),"&sprop=&sprop=name:"].join(""))+'">Google Calendar</a>'},yahoo:function(a){var o=a.end?(a.end.getTime()-a.start.getTime())/e:a.duration,n=(o<600?"0"+Math.floor(o/60):Math.floor(o/60)+"")+(o%60<10?"0"+o%60:o%60+""),r=t(new Date(a.start-a.start.getTimezoneOffset()*e))||"";return'<a class="icon-yahoo" target="_blank" href="'+encodeURI(["http://calendar.yahoo.com/?v=60&view=d&type=20","&title="+(a.title||""),"&st="+r,"&dur="+(n||""),"&desc="+(a.description||""),"&in_loc="+(a.address||"")].join(""))+'">Yahoo! Calendar</a>'},ics:function(a,e,n){var r=t(a.start),c=o(a);return'<a class="'+e+'" target="_blank" href="'+encodeURI("data:text/calendar;charset=utf8,"+["BEGIN:VCALENDAR","VERSION:2.0","BEGIN:VEVENT","URL:"+document.URL,"DTSTART:"+(r||""),"DTEND:"+(c||""),"SUMMARY:"+(a.title||""),"DESCRIPTION:"+(a.description||""),"LOCATION:"+(a.address||""),"END:VEVENT","END:VCALENDAR"].join("\n"))+'">'+n+" Calendar</a>"},ical:function(a){return this.ics(a,"icon-ical","iCal")},outlook:function(a){return this.ics(a,"icon-outlook","Outlook")}},r=function(){var a=document.createElement("style");return a.id="ouical-css",a.innerHTML="#add-to-calendar-label{margin-bottom:10px;cursor:pointer}.add-to-calendar a{margin:3px}.add-to-calendar-checkbox~a{display:none}.add-to-calendar-checkbox:checked~a{display:block;}input[type=checkbox].add-to-calendar-checkbox{display:none}",a},c=function(a,e,t){var o=document.createElement("div");return o.innerHTML='<label id="add-to-calendar-label" for="checkbox-for-'+t+'" class="btn btn-fill btn-small"><i class="fa fa-calendar"></i>&nbsp;&nbsp; Add to Calendar</label>',o.innerHTML+='<input name="add-to-calendar-checkbox" class="add-to-calendar-checkbox" id="checkbox-for-'+t+'" type="checkbox">',Object.keys(a).forEach((function(e){o.innerHTML+=a[e]})),o.className="add-to-calendar",void 0!==e&&(o.className+=" "+e),document.getElementById("ouical-css")||document.getElementsByTagName("head")[0].appendChild(r()),o.id=t,o};a.createCalendar=function(a){var e;if(function(a){return void 0!==a.data&&void 0!==a.data.start&&(void 0!==a.data.end||void 0!==a.data.duration)}(a))return c((e=a.data,{google:n.google(e),yahoo:n.yahoo(e),ical:n.ical(e),outlook:n.outlook(e)}),function(a){if(a.options&&a.options.class)return a.options.class}(a),function(a){return a.options&&a.options.id?a.options.id:Math.floor(1e6*Math.random())}(a));console.log("Event details missing.")}}(this);